---
description: "技術設計を実行可能なアトミックタスクに分解"
stage: 3
prerequisite: ".tmp/step-1-requirements.md, .tmp/step-2-design.md"
duration: "2-3 minutes"
output: ".tmp/step-3-tasks.md + TodoList"
---

# 📝 タスク計画ステージ

**既存apps/webプロジェクトの拡張を前提とし、技術設計からsrc/app内実装タスクを作成し、並列実行可能な作業計画を策定します。**

## 📝 使用法

```bash
/step-3-tasks   # 要件書・設計書を自動読み込みしてタスク計画を実行
```

**前提条件**: `.tmp/step-1-requirements.md`、`.tmp/step-2-design.md`
**出力**: `.tmp/step-3-tasks.md` + TodoList

## 🎯 INVEST原則

- **独立性**: 他タスクと並列実行可能
- **交渉可能性**: 要件変更に対応可能
- **価値**: ユーザー・ステークホルダーに価値提供
- **見積可能性**: 1-8時間の実装可能範囲（理想2-4時間）
- **小規模性**: アトミックで単一成果物
- **テスト可能性**: 明確な完了基準と品質ゲート

## 📝 出力テンプレート構造

- **エグゼクティブサマリー**: 総タスク数・推定工数・並列実行可能率・クリティカルパス
- **タスク依存関係図**: Mermaid Ganttチャートでの可視化
- **Phase分解**: 基盤構築→コア機能→API・データ層→機能実装→品質保証
- **各タスク詳細**: 目的・実装内容・技術詳細・品質保証・完了条件・依存関係・推定時間

## 📋 標準タスクフェーズ

### Phase 1: 基盤構築

- 開発環境セットアップ（パッケージ管理・依存関係）
- プロジェクト構造実装（ディレクトリ・設定・パスエイリアス）

### Phase 2: コア機能

- UIコンポーネント実装（@package/ui活用・カスタム作成）
- 状態管理実装（Zustand・型定義・DevTools）

### Phase 3: API・データ層

- モックデータ実装（MSW・エラーケース）
- API統合レイヤー（クライアント・React Query・キャッシュ）

### Phase 4: 機能実装

- ユーザー向け機能（UI・ビジネスロジック・状態接続）

### Phase 5: 品質保証

- テスト実装（Unit・Integration・E2E）
- パフォーマンス最適化（バンドル分析・Lighthouse監査）

## 🚀 実行プロセス

1. **設計書解析**: `.tmp/step-2-design.md`から実装ポイント抽出
2. **アトミック分解**: 1-8時間の実装可能単位（理想2-4時間）
3. **依存関係管理**: 並列実行機会の最大化
4. **TodoWrite連携**: 重要タスクの追跡システム設定

## 🚨 エラーハンドリング

```bash
# 設計書更新後の再計画
/step-3-tasks   # 更新された設計を自動反映
```

## 📊 品質指標

- **分解粒度**: 70%以上が並列実行可能なアトミックタスク
- **完了定義**: 機能実装・テスト・品質チェック・ドキュメント
- **実装準備度**: 技術仕様・開発環境・品質保証体制が明確
